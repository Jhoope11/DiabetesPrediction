<!DOCTYPE html>
<html lang="en">
<head>
  <title>Diabetes Prediction</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
  <h2>Please Check the box if the answer is Yes or True.</h2>
  <form id="diabetesForm">
    <!-- Boolean Entries (Checkboxes) -->
    <label>Do you have a high blood pressure? <input type="checkbox" name="HighBP" id="HighBP"></label><br>
    <label>Do you have a high cholesterol? <input type="checkbox" name="HighChol" id="HighChol"></label><br>
    <label>Have you had a cholesterol check in the past 5 years? <input type="checkbox" id="CholCheck"></label><br>
    <label>Have you smoked at least 100 cigarettes in your entire life?<input type="checkbox" id="Smoke"></label><br>
    <label>Have you ever had a stroke?<input type="checkbox" id="Stroke"></label><br>
    <label>Do you have/had Coronary Heart Disease (CHD) or Myocardial Infarction (MI)<input type="checkbox" id="HeartDiseaseOrAttack"></label><br>
    <label>Physical activity in past 30 days - not including job<input type="checkbox" id="PhysAct"></label><br>
    <label>Consume 1 or more fruit(s) a day<input type="checkbox" id="Fruit"></label><br>
    <label>Consume 1 or more Vegetable(s) a day?<input type="checkbox" id="Veg"> </label><br>
    <label>Are you a heavy drinker? (adult men having more than 14 drinks per week and adult women having more than 7 drinks per week)<input type="checkbox" id="HvyAlcCons"> </label><br>
    <label>Do you have any kind of health care coverage, including health insurance, prepaid plans such as HMO, etc.<input type="checkbox" id="Healthcare"></label><br>
    <label>Was there a time in the past 12 months when you needed to see a doctor but could not because of cost?<input type="checkbox" id="NoDocCost"></label><br>
    <label>Do you have serious difficulty walking or climbing stairs?<input type="checkbox" id="DiffWalk"></label><br>

    <!-- Text Inputs -->
    <h2>Text Input Fields</h2>
    <label for="BMI">What is your BMI: &nbsp </label><input type="text" id="BMI" name="BMI"><br>
    <label for="genHealth">Would you say that in general your health is: scale 1-5: 1 = excellent, 2 = very good, 3 = good, 4 = fair, 5 = poor &nbsp </label><input type="text" id="genHealth" name="genHealth"><br>
    <label for="text3">Now thinking about your mental health, which includes stress, depression, and problems with emotions, for 
        how many days during the past 30 days was your mental health not good? </label><input type="text" id="mentalHealth" name="text3"><br>
    <label for="text4">Now thinking about your physical health, which includes physical illness and injury, for how many days during 
        the past 30 days was your physical health not good?</label><input type="text" id="physHealth" name="text4"><br>
    <label for="text5">Are You male or female?</label><input type="text" id="gender" name="text5"><br>
    <label for="text6">What is your age? </label><input type="text" id="age" name="text6"><br>
    <label for="text7">Education level: scale 1-6: 1 = Never attended school or only kindergarten 2 =</label><input type="text" id="eduLevel" name="text7"><br>
    <label for="text8">income scale: scale 1-8: 1 = less than $10,000 5 = less than $35,000 11 =</label><input type="text" id="income" name="text8"><br>

    <!-- Submit Button -->
    <button type="button" onclick="performCalc()">Submit</button>
    <div id="output"></div>

    <script>
      // Function to convert checkbox values to float
      function checkboxToFloat(value) {
          return value === 'on' ? 1.0 : 0.0;
      }

      // Function to convert text values to float, defaulting to 0.0 if empty
      function textToFloat(value) {
          return value ? parseFloat(value) : 0.0;
      }

      // Assuming you have loaded the necessary libraries for data manipulation in JavaScript

      function performCalc() {
      // Read data from the CSV file (replace 'your_file.csv' with the actual path)
      const csvFilePath = 'your_file.csv';
  
      // Assuming you have HTML elements with the specified IDs
    var highBP = checkboxToFloat(document.getElementById('HighBP'));
    var highChol = checkboxToFloat(document.getElementById('HighChol'));
    var cholCheck = checkboxToFloat(document.getElementById('CholCheck'));
    var smoke = checkboxToFloat(document.getElementById('Smoke'));
    var stroke = checkboxToFloat(document.getElementById('Stroke'));
    var heartDiseaseOrAttack = checkboxToFloat(document.getElementById('HeartDiseaseOrAttack'));
    var physAct = checkboxToFloat(document.getElementById('PhysAct'));
    var fruit = checkboxToFloat(document.getElementById('Fruit'));
    var veg = checkboxToFloat(document.getElementById('Veg'));
    var hvyAlcCons = checkboxToFloat(document.getElementById('HvyAlcCons'));
    var healthcare = checkboxToFloat(document.getElementById('Healthcare'));
    var noDocCost = checkboxToFloat(document.getElementById('NoDocCost'));
    var diffWalk = checkboxToFloat(document.getElementById('DiffWalk'));
    var BMI = textToFloat(document.getElementById('BMI').value);
    var genHealth = textToFloat(document.getElementById('genHealth').value);
    var mentalHealth = textToFloat(document.getElementById('mentalHealth').value);
    var physHealth = textToFloat(document.getElementById('physHealth').value);
    var gender = textToFloat(document.getElementById('gender').value);
    var age = textToFloat(document.getElementById('age').value);
    var eduLevel = textToFloat(document.getElementById('eduLevel').value);
    var income = textToFloat(document.getElementById('income').value);

    // Construct the enteredData dictionary
    var enteredData = {
        'Diabetes_012': 0.0,
        'HighBP': highBP,
        'HighChol': highChol,
        'CholCheck': cholCheck,
        'BMI': BMI,
        'Smoker': smoke,
        'Stroke': stroke,
        'HeartDiseaseOrAttack': heartDiseaseOrAttack,
        'PhysActivity': physAct,
        'Fruits': fruit,
        'Veggies': veg,
        'HvyAlcoholConsump': hvyAlcCons,
        'AnyHealthcare': healthcare,
        'NoDocbcCost': noDocCost,
        'GenHlth': genHealth,
        'MentHlth': mentalHealth,
        'PhysHlth': physHealth,
        'DiffWalk': diffWalk,
        'Sex': gender,
        'Age': age,
        'Education': eduLevel,
        'Income': income
    };

      // Convert enteredData into an array of objects
      const enteredDf = [enteredData];

      // Ensure columns in both arrays match
      const dfColumns = ['column1', 'column2', 'column3', /* Add all column names */];
      const enteredDfArray = enteredDf.map(obj => {
        const newObj = {};
        dfColumns.forEach(col => newObj[col] = obj[col] !== undefined ? obj[col] : null);
        return newObj;
      });

      // Convert enteredDf to match the data types of df (assuming dfTypes is an array of data types)
      const dfTypes = ['number', 'number', 'number', /* Add all data types */];
      const enteredDfTypedArray = enteredDfArray.map(obj => {
        const newObj = {};
        dfColumns.forEach((col, index) => newObj[col] = typeof obj[col] === dfTypes[index] ? obj[col] : null);
        return newObj;
      });

      // Perform element-wise comparison
      const comparisonResult = enteredDfTypedArray.map(obj => {
        const newObj = {};
        dfColumns.forEach(col => newObj[col] = obj[col] !== null && dfArray[0][col] === obj[col]);
        return newObj;
      });

      // Summary results
      const columnMatches = dfColumns.map(col => comparisonResult.every(obj => obj[col]));
      const rowMatches = comparisonResult.map(obj => Object.values(obj).every(val => val));
      const allMatches = columnMatches.every(match => match) && rowMatches.every(match => match);

      // Print the results (you may want to use console.log instead of print in JavaScript)
      console.log("\nColumn Matches:");
      console.log(columnMatches);

      console.log("\nRow Matches:");
      console.log(rowMatches);

      console.log("\nAll Matches:");
      console.log(allMatches);
    }

    // Call the function
    performCalc();

    </script>
  </form>
</body>
</html>
